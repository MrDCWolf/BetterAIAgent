console.log("Background service worker started.");chrome.runtime.onMessage.addListener((n,o,a)=>{if(console.log("Received message:",n,"from sender:",o),n.type==="openSidePanel")if(o.tab?.id){const e=o.tab.id;console.log(`Opening side panel for tab ${e}`),chrome.sidePanel.open({tabId:e}).then(()=>{console.log(`Side panel opened successfully for tab ${e}.`)}).catch(s=>{console.error(`Error opening side panel for tab ${e}:`,s)})}else console.warn("Received openSidePanel message without sender tab ID.")});
